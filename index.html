<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TradeSphere Pro - Complete Stock Trading Platform  </title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', 'Segoe UI', sans-serif;
        }

        :root {
            --primary-blue: #0052FF;
            --dark-bg: #0A0E17;
            --card-bg: #141A29;
            --border-color: #2A3245;
            --text-primary: #FFFFFF;
            --text-secondary: #94A3B8;
            --success-green: #10B981;
            --warning-yellow: #F59E0B;
            --danger-red: #EF4444;
            --sidebar-width: 280px;
        }

        body {
            background-color: var(--dark-bg);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        .global-disclaimer {
            background: linear-gradient(90deg, #F59E0B, #EF4444);
            color: #1E293B;
            text-align: center;
            padding: 12px;
            font-weight: 800;
            font-size: 14px;
            letter-spacing: 0.5px;
            border-bottom: 2px solid #D97706;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(239, 68, 68, 0.2);
        }

        /* Header & Navigation */
        header {
            background-color: var(--card-bg);
            padding: 18px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border-color);
            position: sticky;
            top: 46px;
            z-index: 999;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo {
            width: 42px;
            height: 42px;
            background: linear-gradient(135deg, var(--primary-blue), #00D4FF);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .logo-text h1 {
            font-size: 26px;
            font-weight: 800;
            background: linear-gradient(90deg, #3B82F6, #00D4FF);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .logo-text .tagline {
            font-size: 12px;
            color: var(--text-secondary);
            letter-spacing: 0.5px;
        }

        .user-account-info {
            display: flex;
            align-items: center;
            gap: 25px;
        }

        .demo-balance-card {
            background: linear-gradient(135deg, #1E3A8A, #3B82F6);
            padding: 12px 22px;
            border-radius: 12px;
            font-weight: 700;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .demo-user {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px 18px;
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            cursor: pointer;
        }

        /* Main Layout */
        .platform-container {
            display: grid;
            grid-template-columns: var(--sidebar-width) 1fr 380px;
            min-height: calc(100vh - 120px);
        }

        /* Sidebar Navigation */
        .sidebar {
            background-color: var(--card-bg);
            border-right: 1px solid var(--border-color);
            padding: 25px 0;
            height: 100%;
        }

        .nav-section {
            padding: 0 20px;
            margin-bottom: 30px;
        }

        .nav-section h3 {
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-secondary);
            margin-bottom: 15px;
        }

        .nav-item {
            padding: 16px 20px;
            margin-bottom: 8px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 15px;
            font-weight: 500;
            color: var(--text-secondary);
        }

        .nav-item:hover {
            background-color: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
        }

        .nav-item.active {
            background: linear-gradient(90deg, rgba(59, 130, 246, 0.15), rgba(0, 212, 255, 0.1));
            color: #60A5FA;
            border-left: 4px solid var(--primary-blue);
        }

        .nav-item .step-badge {
            margin-left: auto;
            background-color: var(--primary-blue);
            color: white;
            font-size: 11px;
            padding: 3px 10px;
            border-radius: 20px;
        }

        /* Main Content Area */
        .main-content {
            padding: 30px;
            overflow-y: auto;
            background-color: var(--dark-bg);
        }

        .content-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .content-header h2 {
            font-size: 28px;
            font-weight: 700;
        }

        .progress-container {
            width: 100%;
            background-color: rgba(255, 255, 255, 0.05);
            height: 8px;
            border-radius: 10px;
            margin-bottom: 40px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-blue), #00D4FF);
            width: 10%;
            transition: width 0.5s ease;
        }

        .form-container {
            background-color: var(--card-bg);
            border-radius: 16px;
            padding: 35px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            border: 1px solid var(--border-color);
            margin-bottom: 30px;
            display: none;
        }

        .form-container.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .form-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
        }

        .form-header h3 {
            font-size: 22px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .step-indicator {
            background-color: rgba(59, 130, 246, 0.2);
            color: #60A5FA;
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 25px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .form-group.full-width {
            grid-column: span 2;
        }

        label {
            font-weight: 600;
            font-size: 15px;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        label .required {
            color: var(--danger-red);
            font-size: 20px;
        }

        .input-hint {
            font-size: 13px;
            color: var(--text-secondary);
            margin-top: 4px;
        }

        input, select, textarea {
            padding: 16px 18px;
            border-radius: 10px;
            border: 1px solid var(--border-color);
            background-color: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
            font-size: 16px;
            transition: all 0.3s;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
        }

        .file-upload-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .file-upload-area {
            border: 2px dashed var(--border-color);
            border-radius: 12px;
            padding: 40px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }

        .file-upload-area:hover {
            border-color: var(--primary-blue);
            background-color: rgba(59, 130, 246, 0.05);
        }

        .file-upload-area i {
            font-size: 42px;
            color: var(--text-secondary);
            margin-bottom: 15px;
        }

        .file-upload-area.uploaded {
            border-color: var(--success-green);
            background-color: rgba(16, 185, 129, 0.05);
        }

        .upload-status {
            position: absolute;
            top: 15px;
            right: 15px;
            background-color: var(--success-green);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            display: none;
        }

        .upload-status.visible {
            display: block;
        }

        .document-requirements {
            background-color: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            padding: 20px;
            margin-top: 10px;
        }

        .document-requirements h4 {
            color: var(--warning-yellow);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .requirements-list {
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.8;
        }

        .requirements-list li {
            margin-bottom: 8px;
        }

        .upload-progress {
            background-color: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
            display: none;
        }

        input[type="file"] {
            display: none;
        }

        input[type="radio"] {
            width: 20px;
            height: 20px;
            accent-color: var(--primary-blue);
        }

        .form-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            padding-top: 25px;
            border-top: 1px solid var(--border-color);
        }

        .btn {
            padding: 16px 32px;
            border-radius: 10px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .btn-primary {
            background-color: var(--primary-blue);
            color: white;
        }

        .btn-primary:hover {
            background-color: #0046D6;
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0, 82, 255, 0.3);
        }

        .btn-secondary {
            background-color: transparent;
            color: var(--text-secondary);
            border: 1px solid var(--border-color);
        }

        .btn-secondary:hover {
            background-color: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
        }

        .btn-success {
            background-color: var(--success-green);
            color: white;
        }

        .btn-success:hover {
            background-color: #0DA271;
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(16, 185, 129, 0.3);
        }

        /* Stock Selection Styles */
        .stock-selection-container {
            background-color: rgba(0, 0, 0, 0.2);
            border-radius: 12px;
            padding: 25px;
            margin-top: 20px;
            max-height: 500px;
            overflow-y: auto;
        }

        .stock-filter {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
        }

        .stock-filter input {
            flex-grow: 1;
        }

        .stock-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .stock-card {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 20px;
            border: 2px solid transparent;
            transition: all 0.3s;
            cursor: pointer;
        }

        .stock-card:hover {
            border-color: rgba(59, 130, 246, 0.5);
            transform: translateY(-5px);
        }

        .stock-card.selected {
            border-color: var(--primary-blue);
            background-color: rgba(59, 130, 246, 0.1);
        }

        .stock-card-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .stock-logo-small {
            width: 50px;
            height: 50px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 20px;
        }

        .stock-card-body {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .stock-price-large {
            font-size: 24px;
            font-weight: 700;
        }

        .stock-change {
            padding: 6px 12px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 14px;
        }

        .positive {
            background-color: rgba(16, 185, 129, 0.2);
            color: var(--success-green);
        }

        .negative {
            background-color: rgba(239, 68, 68, 0.2);
            color: var(--danger-red);
        }

        .stock-metrics {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            font-size: 13px;
            color: var(--text-secondary);
        }

        .metric-item {
            display: flex;
            justify-content: space-between;
        }

        .stock-quantity-selector {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-top: 15px;
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .qty-btn {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: var(--primary-blue);
            color: white;
            border: none;
            cursor: pointer;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .quantity-input {
            width: 80px;
            text-align: center;
            padding: 10px;
        }

        .stock-total {
            font-weight: 700;
            color: var(--primary-blue);
        }

        /* Order Summary */
        .order-summary {
            background-color: rgba(0, 0, 0, 0.2);
            border-radius: 12px;
            padding: 25px;
            margin-top: 25px;
        }

        .summary-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border-color);
        }

        .summary-items {
            max-height: 300px;
            overflow-y: auto;
            margin-bottom: 20px;
        }

        .summary-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .summary-total {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            border-top: 2px solid var(--border-color);
            font-size: 20px;
            font-weight: 700;
        }

        /* Application ID Display */
        .application-id-container {
            background: linear-gradient(135deg, #1E3A8A, #3B82F6);
            border-radius: 16px;
            padding: 40px;
            text-align: center;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.3);
        }

        .application-id {
            font-size: 42px;
            font-weight: 800;
            letter-spacing: 2px;
            background-color: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            font-family: monospace;
            cursor: pointer;
            transition: all 0.3s;
        }

        .application-id:hover {
            background-color: rgba(0, 0, 0, 0.5);
            transform: scale(1.02);
        }

        .copy-notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--success-green);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            display: none;
            z-index: 1000;
        }

        .copy-notification.show {
            display: block;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from { transform: translateX(100px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .contact-actions {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        .contact-btn {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 18px 32px;
            border-radius: 12px;
            font-weight: 600;
            font-size: 18px;
            text-decoration: none;
            transition: all 0.3s;
        }

        .contact-email {
            background-color: #EA4335;
            color: white;
        }

        .contact-telegram {
            background-color: #0088cc;
            color: white;
        }

        .contact-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }

        .important-notice {
            background-color: rgba(245, 158, 11, 0.1);
            border-left: 4px solid var(--warning-yellow);
            padding: 20px;
            border-radius: 8px;
            margin-top: 30px;
        }

        .important-notice h4 {
            color: var(--warning-yellow);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Right Sidebar - Market Data */
        .right-sidebar {
            background-color: var(--card-bg);
            border-left: 1px solid var(--border-color);
            padding: 25px;
            overflow-y: auto;
        }

        .market-widget {
            background-color: rgba(0, 0, 0, 0.2);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 25px;
        }

        .market-widget h3 {
            font-size: 18px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .stock-ticker {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .stock-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .stock-logo {
            width: 40px;
            height: 40px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 18px;
        }

        .stock-symbol {
            font-weight: 700;
            font-size: 18px;
        }

        .stock-name {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .stock-price {
            font-weight: 700;
            font-size: 18px;
        }

        /* Verification Modal */
        .verification-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.85);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .verification-content {
            background-color: var(--card-bg);
            border-radius: 20px;
            padding: 40px;
            width: 500px;
            max-width: 90%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            text-align: center;
        }

        .verification-loader {
            width: 80px;
            height: 80px;
            border: 6px solid rgba(59, 130, 246, 0.2);
            border-top: 6px solid var(--primary-blue);
            border-radius: 50%;
            margin: 0 auto 30px;
            animation: spin 1.5s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Contact Footer */
        .contact-footer {
            background-color: var(--card-bg);
            padding: 25px 30px;
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 14px;
        }

        .contact-info {
            display: flex;
            gap: 30px;
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--text-secondary);
        }

        .contact-item a {
            color: var(--text-secondary);
            text-decoration: none;
            transition: color 0.3s;
        }

        .contact-item a:hover {
            color: var(--primary-blue);
        }

        .regulatory-logos {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .reg-logo {
            height: 40px;
            filter: grayscale(1) brightness(2);
            opacity: 0.7;
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .platform-container {
                grid-template-columns: var(--sidebar-width) 1fr;
            }
            .right-sidebar {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .platform-container {
                grid-template-columns: 1fr;
            }
            .sidebar {
                display: none;
            }
            .form-grid {
                grid-template-columns: 1fr;
            }
            .form-group.full-width {
                grid-column: span 1;
            }
            .stock-grid {
                grid-template-columns: 1fr;
            }
            .contact-actions {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <!-- Global Disclaimer -->
    <div class="global-disclaimer">
        <i class="fas fa-exclamation-square"></i> 
        TRADESPHERE STOCK TRADING PLATFORM 
    </div>

    <!-- Header -->
    <header>
        <div class="logo-container">
            <div class="logo">
                <i class="fas fa-chart-line"></i>
            </div>
            <div class="logo-text">
                <h1>TradeSphere Pro</h1>
                <div class="tagline">SIPC • FINRA • SEC Registered • Application Platform</div>
            </div>
        </div>
        <div class="user-account-info">
            <div class="-balance-card">
                <i class="fas fa-wallet"></i>
                <div>
                    <div style="font-size: 12px; opacity: 0.9;">Stock value Balance</div>
                    <div id="- stock value balance">$500,000.00</div>
                </div>
            </div>
            <div class="applicant">
                <i class="fas fa-user-circle" style="font-size: 32px;"></i>
                <div>
                    <div>Applicant</div>
                    <div style="font-size: 12px; color: var(--text-secondary);">Account: <span id="account-number">TD-7X3-9B2-1K5</span></div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Platform Container -->
    <div class="platform-container">
        <!-- Sidebar Navigation -->
        <div class="sidebar">
            <div class="nav-section">
                <h3>Account Setup</h3>
                <div class="nav-item active" data-step="1">
                    <i class="fas fa-user-circle"></i>
                    <span>Personal Details</span>
                    <div class="step-badge">Step 1</div>
                </div>
                <div class="nav-item" data-step="2">
                    <i class="fas fa-home"></i>
                    <span>Address & Contact</span>
                    <div class="step-badge">Step 2</div>
                </div>
                <div class="nav-item" data-step="3">
                    <i class="fas fa-briefcase"></i>
                    <span>Employment & Finance</span>
                    <div class="step-badge">Step 3</div>
                </div>
                <div class="nav-item" data-step="4">
                    <i class="fas fa-chart-line"></i>
                    <span>Investment Profile</span>
                    <div class="step-badge">Step 4</div>
                </div>
            </div>
            
            <div class="nav-section">
                <h3>Verification</h3>
                <div class="nav-item" data-step="5">
                    <i class="fas fa-flag-usa"></i>
                    <span>U.S. Citizenship</span>
                    <div class="step-badge">Step 5</div>
                </div>
                <div class="nav-item" data-step="6">
                    <i class="fas fa-id-card"></i>
                    <span>Document Upload</span>
                    <div class="step-badge">Step 6</div>
                </div>
                <div class="nav-item" data-step="7">
                    <i class="fas fa-file-invoice-dollar"></i>
                    <span>Tax Forms</span>
                    <div class="step-badge">Step 7</div>
                </div>
            </div>
            
            <div class="nav-section">
                <h3>Trading</h3>
                <div class="nav-item" data-step="8">
                    <i class="fas fa-shopping-cart"></i>
                    <span>Select Stocks</span>
                    <div class="step-badge">Step 8</div>
                </div>
                <div class="nav-item" data-step="9">
                    <i class="fas fa-credit-card"></i>
                    <span>Review & Submit</span>
                    <div class="step-badge">Step 9</div>
                </div>
            </div>
            
            <div class="nav-section">
                <h3>Resources</h3>
                <div class="nav-item" data-step="10">
                    <i class="fas fa-university"></i>
                    <span>Application ID</span>
                </div>
                <div class="nav-item" data-step="11">
                    <i class="fas fa-file-contract"></i>
                    <span>Account Agreement</span>
                </div>
            </div>
        </div>

        <!-- Main Content Area -->
        <div class="main-content">
            <div class="content-header">
                <h2 id="current-step-title">Personal Identity Details</h2>
                <div class="step-indicator">SEC Rule 17a-3 • FINRA 2090</div>
            </div>
            
            <div class="progress-container">
                <div class="progress-bar" id="progress-bar"></div>
            </div>

            <!-- Step 1: Personal Details Form -->
            <div class="form-container active" id="step-1">
                <div class="form-header">
                    <h3><i class="fas fa-user-circle"></i> Personal Identity Information</h3>
                    <div class="step-indicator">SEC CIP Requirement</div>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label>First Name <span class="required">*</span></label>
                        <input type="text" id="first-name" placeholder="As shown on official ID">
                        <div class="input-hint">Legal first name exactly as on passport/ID</div>
                    </div>
                    
                    <div class="form-group">
                        <label>Middle Name</label>
                        <input type="text" id="middle-name" placeholder="If applicable">
                    </div>
                    
                    <div class="form-group">
                        <label>Last Name <span class="required">*</span></label>
                        <input type="text" id="last-name" placeholder="Family/surname">
                    </div>
                    
                    <div class="form-group">
                        <label>Date of Birth <span class="required">*</span></label>
                        <input type="date" id="dob">
                        <div class="input-hint">Must be 18+ years to open account</div>
                    </div>
                    
                    <div class="form-group">
                        <label>Gender <span class="required">*</span></label>
                        <select id="gender">
                            <option value="">Select</option>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                            <option value="non-binary">Non-binary</option>
                            <option value="prefer-not-to-say">Prefer not to say</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Marital Status</label>
                        <select id="marital-status">
                            <option value="">Select</option>
                            <option value="single">Single</option>
                            <option value="married">Married</option>
                            <option value="divorced">Divorced</option>
                            <option value="widowed">Widowed</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Citizenship <span class="required">*</span></label>
                        <select id="citizenship">
                            <option value="">Select Country</option>
                            <option value="us">United States</option>
                            <option value="uk">United Kingdom</option>
                            <option value="canada">Canada</option>
                            <option value="australia">Australia</option>
                            <option value="germany">Germany</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Country of Residence <span class="required">*</span></label>
                        <select id="residence-country">
                            <option value="">Select Country</option>
                            <option value="us">United States</option>
                            <option value="uk">United Kingdom</option>
                            <option value="canada">Canada</option>
                            <option value="australia">Australia</option>
                            <option value="germany">Germany</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-navigation">
                    <button class="btn btn-secondary" disabled>
                        <i class="fas fa-arrow-left"></i> Previous
                    </button>
                    <button class="btn btn-primary" onclick="nextStep(2)">
                        Continue to Address Details <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <!-- Step 2: Address & Contact Form -->
            <div class="form-container" id="step-2">
                <div class="form-header">
                    <h3><i class="fas fa-home"></i> Address & Contact Information</h3>
                    <div class="step-indicator">Proof of Address Required</div>
                </div>
                
                <div class="form-grid">
                    <div class="form-group full-width">
                        <label>Street Address <span class="required">*</span></label>
                        <input type="text" id="street-address" placeholder="House number, street, estate">
                    </div>
                    
                    <div class="form-group">
                        <label>City <span class="required">*</span></label>
                        <input type="text" id="city" placeholder="City or town">
                    </div>
                    
                    <div class="form-group">
                        <label>State / Province</label>
                        <input type="text" id="state" placeholder="If applicable">
                    </div>
                    
                    <div class="form-group">
                        <label>Country <span class="required">*</span></label>
                        <input type="text" id="country" value="United States" readonly>
                    </div>
                    
                    <div class="form-group">
                        <label>ZIP / Postal Code <span class="required">*</span></label>
                        <input type="text" id="zip-code" placeholder="12345 or 'Not applicable'">
                    </div>
                    
                    <div class="form-group">
                        <label>Mobile Phone <span class="required">*</span></label>
                        <input type="tel" id="phone" placeholder="+1 (555) 123-4567">
                        <div class="input-hint">For security verification and alerts</div>
                    </div>
                    
                    <div class="form-group">
                        <label>Email Address <span class="required">*</span></label>
                        <input type="email" id="email" placeholder="your.email@example.com">
                        <div class="input-hint">Account notifications will be sent here</div>
                    </div>
                </div>
                
                <div class="form-navigation">
                    <button class="btn btn-secondary" onclick="previousStep(1)">
                        <i class="fas fa-arrow-left"></i> Back to Personal Details
                    </button>
                    <button class="btn btn-primary" onclick="nextStep(3)">
                        Continue to Employment & Finance <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <!-- Step 3: Employment & Financial Background -->
            <div class="form-container" id="step-3">
                <div class="form-header">
                    <h3><i class="fas fa-briefcase"></i> Employment & Financial Background</h3>
                    <div class="step-indicator">AML Compliance • Patriot Act Section 326</div>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label>Employment Status <span class="required">*</span></label>
                        <select id="employment-status">
                            <option value="">Select</option>
                            <option value="employed">Employed</option>
                            <option value="self-employed">Self-Employed</option>
                            <option value="student">Student</option>
                            <option value="unemployed">Unemployed</option>
                            <option value="retired">Retired</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Employer Name</label>
                        <input type="text" id="employer-name" placeholder="Company name or 'Self-employed'">
                        <div class="input-hint">If unemployed/retired, enter "Not applicable"</div>
                    </div>
                    
                    <div class="form-group">
                        <label>Job Title / Occupation</label>
                        <input type="text" id="job-title" placeholder="e.g., Software Engineer">
                    </div>
                    
                    <div class="form-group">
                        <label>Industry <span class="required">*</span></label>
                        <select id="industry">
                            <option value="">Select</option>
                            <option value="technology">Technology / IT</option>
                            <option value="finance">Finance / Banking</option>
                            <option value="healthcare">Healthcare</option>
                            <option value="education">Education</option>
                            <option value="business">Business / Management</option>
                            <option value="student">Student</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Annual Income Range <span class="required">*</span></label>
                        <select id="income-range">
                            <option value="">Select Range</option>
                            <option value="0-30000">$0 - $30,000</option>
                            <option value="30000-60000">$30,000 - $60,000</option>
                            <option value="60000-100000">$60,000 - $100,000</option>
                            <option value="100000-200000">$100,000 - $200,000</option>
                            <option value="200000+">$200,000+</option>
                        </select>
                        <div class="input-hint">For compliance purposes only</div>
                    </div>
                    
                    <div class="form-group">
                        <label>Net Worth Range <span class="required">*</span></label>
                        <select id="net-worth-range">
                            <option value="">Select Range</option>
                            <option value="0-50000">$0 - $50,000</option>
                            <option value="50000-250000">$50,000 - $250,000</option>
                            <option value="250000-1000000">$250,000 - $1,000,000</option>
                            <option value="1000000+">$1,000,000+</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Liquid Assets Range <span class="required">*</span></label>
                        <select id="liquid-assets-range">
                            <option value="">Select Range</option>
                            <option value="0-25000">$0 - $25,000</option>
                            <option value="25000-100000">$25,000 - $100,000</option>
                            <option value="100000-500000">$100,000 - $500,000</option>
                            <option value="500000+">$500,000+</option>
                        </select>
                        <div class="input-hint">Cash, savings, investments easily convertible to cash</div>
                    </div>
                    
                    <div class="form-group full-width">
                        <label>Source of Funds <span class="required">*</span> (Select all that apply)</label>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-top: 10px;">
                            <label style="display: flex; align-items: center; gap: 10px;">
                                <input type="checkbox" name="fund-source" value="salary"> Salary / Employment Income
                            </label>
                            <label style="display: flex; align-items: center; gap: 10px;">
                                <input type="checkbox" name="fund-source" value="business"> Business Income
                            </label>
                            <label style="display: flex; align-items: center; gap: 10px;">
                                <input type="checkbox" name="fund-source" value="savings"> Personal Savings
                            </label>
                            <label style="display: flex; align-items: center; gap: 10px;">
                                <input type="checkbox" name="fund-source" value="investments"> Investment Proceeds
                            </label>
                            <label style="display: flex; align-items: center; gap: 10px;">
                                <input type="checkbox" name="fund-source" value="inheritance"> Inheritance / Gift
                            </label>
                            <label style="display: flex; align-items: center; gap: 10px;">
                                <input type="checkbox" name="fund-source" value="crypto"> Cryptocurrency
                            </label>
                        </div>
                        <div class="input-hint">Required for Anti-Money Laundering (AML) compliance</div>
                    </div>
                </div>
                
                <div class="form-navigation">
                    <button class="btn btn-secondary" onclick="previousStep(2)">
                        <i class="fas fa-arrow-left"></i> Back to Address Details
                    </button>
                    <button class="btn btn-primary" onclick="nextStep(4)">
                        Continue to Investment Profile <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <!-- Step 4: Investment Profile -->
            <div class="form-container" id="step-4">
                <div class="form-header">
                    <h3><i class="fas fa-chart-line"></i> Investment Experience & Risk Profile</h3>
                    <div class="step-indicator">Regulation Best Interest (BI)</div>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label>Have you traded stocks before? <span class="required">*</span></label>
                        <select id="trading-experience">
                            <option value="">Select</option>
                            <option value="yes">Yes</option>
                            <option value="no">No</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Years of Investment Experience</label>
                        <select id="experience-years">
                            <option value="">Select</option>
                            <option value="0">Less than 1 year</option>
                            <option value="1-3">1-3 years</option>
                            <option value="3-5">3-5 years</option>
                            <option value="5-10">5-10 years</option>
                            <option value="10+">10+ years</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Frequency of Trading</label>
                        <select id="trading-frequency">
                            <option value="">Select</option>
                            <option value="daily">Daily</option>
                            <option value="weekly">Weekly</option>
                            <option value="monthly">Monthly</option>
                            <option value="quarterly">Quarterly</option>
                            <option value="yearly">Yearly</option>
                            <option value="rarely">Rarely</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Investment Objective <span class="required">*</span></label>
                        <select id="investment-objective">
                            <option value="">Select</option>
                            <option value="growth">Long-term Growth</option>
                            <option value="income">Income (Dividends)</option>
                            <option value="preservation">Capital Preservation</option>
                            <option value="speculation">Speculation</option>
                            <option value="retirement">Retirement Planning</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Risk Tolerance <span class="required">*</span></label>
                        <select id="risk-tolerance">
                            <option value="">Select</option>
                            <option value="low">Low</option>
                            <option value="medium">Medium</option>
                            <option value="high">High</option>
                            <option value="aggressive">Aggressive</option>
                        </select>
                    </div>
                    
                    <div class="form-group full-width">
                        <label>Investment Knowledge Level <span class="required">*</span></label>
                        <select id="knowledge-level">
                            <option value="">Select</option>
                            <option value="none">No Knowledge</option>
                            <option value="limited">Limited Knowledge</option>
                            <option value="good">Good Understanding</option>
                            <option value="extensive">Extensive Knowledge</option>
                            <option value="professional">Professional Level</option>
                        </select>
                        <div class="input-hint">This helps us provide appropriate educational materials</div>
                    </div>
                    
                    <div class="form-group full-width">
                        <label>Investment Time Horizon <span class="required">*</span></label>
                        <select id="time-horizon">
                            <option value="">Select</option>
                            <option value="short">Short-term (0-3 years)</option>
                            <option value="medium">Medium-term (3-7 years)</option>
                            <option value="long">Long-term (7+ years)</option>
                            <option value="retirement">Retirement (15+ years)</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-navigation">
                    <button class="btn btn-secondary" onclick="previousStep(3)">
                        <i class="fas fa-arrow-left"></i> Back to Employment Details
                    </button>
                    <button class="btn btn-primary" onclick="nextStep(5)">
                        Continue to U.S. Citizenship Status <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <!-- Step 5: US Citizenship Question -->
            <div class="form-container" id="step-5">
                <div class="form-header">
                    <h3><i class="fas fa-flag-usa"></i> U.S. Citizenship Status</h3>
                    <div class="step-indicator">IRS Requirement • Tax Classification</div>
                </div>
                
                <div class="form-grid">
                    <div class="form-group full-width">
                        <label>Are you a U.S. citizen or U.S. tax resident? <span class="required">*</span></label>
                        <div style="display: flex; gap: 30px; margin-top: 15px;">
                            <label style="display: flex; align-items: center; gap: 10px; padding: 15px; border: 2px solid var(--border-color); border-radius: 10px; cursor: pointer; flex: 1;">
                                <input type="radio" name="us-citizen" value="yes" id="us-citizen-yes">
                                <div>
                                    <div style="font-weight: 600; margin-bottom: 5px;">Yes</div>
                                    <div style="font-size: 14px; color: var(--text-secondary);">I am a U.S. citizen or tax resident</div>
                                </div>
                            </label>
                            
                            <label style="display: flex; align-items: center; gap: 10px; padding: 15px; border: 2px solid var(--border-color); border-radius: 10px; cursor: pointer; flex: 1;">
                                <input type="radio" name="us-citizen" value="no" id="us-citizen-no">
                                <div>
                                    <div style="font-weight: 600; margin-bottom: 5px;">No</div>
                                    <div style="font-size: 14px; color: var(--text-secondary);">I am NOT a U.S. citizen or tax resident</div>
                                </div>
                            </label>
                        </div>
                        <div class="input-hint" id="citizenship-hint" style="margin-top: 15px; padding: 15px; background-color: rgba(245, 158, 11, 0.1); border-radius: 8px; display: none;">
                            <i class="fas fa-info-circle" style="color: var(--warning-yellow);"></i>
                            <span id="hint-text">Selection will determine which tax forms are required</span>
                        </div>
                    </div>
                    
                    <div class="form-group full-width" id="tax-form-notice" style="display: none;">
                        <div style="background-color: rgba(16, 185, 129, 0.1); padding: 20px; border-radius: 10px; border-left: 4px solid var(--success-green);">
                            <h4 style="color: var(--success-green); margin-bottom: 10px;"><i class="fas fa-file-signature"></i> Tax Form Required</h4>
                            <p style="color: var(--text-secondary); line-height: 1.6;">
                                Based on your selection, you will need to complete <strong>Form W-9</strong> (for U.S. persons) 
                                or <strong>Form W-8BEN</strong> (for non-U.S. persons) in the next step.
                            </p>
                        </div>
                    </div>
                </div>
                
                <div class="form-navigation">
                    <button class="btn btn-secondary" onclick="previousStep(4)">
                        <i class="fas fa-arrow-left"></i> Back to Investment Profile
                    </button>
                    <button class="btn btn-primary" onclick="nextStep(6)" id="step5-continue" disabled>
                        Continue to Document Upload <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <!-- Step 6: Document Upload -->
            <div class="form-container" id="step-6">
                <div class="form-header">
                    <h3><i class="fas fa-id-card"></i> Document Upload & Verification</h3>
                    <div class="step-indicator">KYC Compliance • Identity Verification</div>
                </div>
                
                <div class="file-upload-container">
                    <div class="form-group full-width">
                        <label>Government ID Document <span class="required">*</span></label>
                        <input type="file" id="id-document-input" accept=".pdf,.jpg,.jpeg,.png" style="display: none;" onchange="handleFileUpload('id', this.files[0])">
                        
                        <div class="file-upload-area" id="id-upload-area" onclick="document.getElementById('id-document-input').click()">
                            <i class="fas fa-passport" id="id-icon"></i>
                            <div style="font-weight: 600; margin-bottom: 8px;" id="id-title">Upload Passport or National ID</div>
                            <div style="color: var(--text-secondary); font-size: 14px; margin-bottom: 15px;" id="id-description">
                                Click to select a file. Max 10MB. Accepted: PDF, JPG, PNG
                            </div>
                            <div style="padding: 10px 20px; background-color: rgba(0,0,0,0.3); border-radius: 8px; display: inline-block;">
                                <i class="fas fa-cloud-upload-alt"></i> Click to Upload
                            </div>
                            <div class="upload-status" id="id-upload-status">Uploaded</div>
                        </div>
                        
                        <div class="upload-progress" id="id-progress" style="margin-top: 10px; display: none;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <span>Uploading...</span>
                                <span id="id-progress-percent">0%</span>
                            </div>
                            <div style="height: 6px; background-color: var(--border-color); border-radius: 3px; overflow: hidden;">
                                <div id="id-progress-bar" style="height: 100%; width: 0%; background-color: var(--primary-blue); transition: width 0.3s;"></div>
                            </div>
                        </div>
                        
                        <div id="id-file-info" style="margin-top: 10px; font-size: 14px; color: var(--text-secondary); display: none;">
                            <i class="fas fa-file"></i> <span id="id-file-name"></span> • <span id="id-file-size"></span>
                        </div>
                    </div>
                    
                    <div class="document-requirements">
                        <h4><i class="fas fa-exclamation-circle"></i> ID Document Requirements</h4>
                        <ul class="requirements-list">
                            <li>Must be a government-issued photo ID (Passport, Driver's License, National ID)</li>
                            <li>Document must be valid and not expired</li>
                            <li>Clear, full-color image of the entire document</li>
                            <li>All four corners must be visible</li>
                            <li>Text must be legible and not blurry</li>
                            <li>File formats: JPG, PNG, PDF (Max 10MB)</li>
                            <li><strong>No screenshots or edited images accepted</strong></li>
                        </ul>
                    </div>
                    
                    <div class="form-group full-width">
                        <label>Proof of Address Document <span class="required">*</span></label>
                        <input type="file" id="address-document-input" accept=".pdf,.jpg,.jpeg,.png" style="display: none;" onchange="handleFileUpload('address', this.files[0])">
                        
                        <div class="file-upload-area" id="address-upload-area" onclick="document.getElementById('address-document-input').click()">
                            <i class="fas fa-file-invoice" id="address-icon"></i>
                            <div style="font-weight: 600; margin-bottom: 8px;" id="address-title">Upload Bank Statement or Utility Bill</div>
                            <div style="color: var(--text-secondary); font-size: 14px; margin-bottom: 15px;" id="address-description">
                                Click to select a file. Issued within last 3 months. Max 10MB.
                            </div>
                            <div style="padding: 10px 20px; background-color: rgba(0,0,0,0.3); border-radius: 8px; display: inline-block;">
                                <i class="fas fa-cloud-upload-alt"></i> Click to Upload
                            </div>
                            <div class="upload-status" id="address-upload-status">Uploaded</div>
                        </div>
                        
                        <div class="upload-progress" id="address-progress" style="margin-top: 10px; display: none;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <span>Uploading...</span>
                                <span id="address-progress-percent">0%</span>
                            </div>
                            <div style="height: 6px; background-color: var(--border-color); border-radius: 3px; overflow: hidden;">
                                <div id="address-progress-bar" style="height: 100%; width: 0%; background-color: var(--primary-blue); transition: width 0.3s;"></div>
                            </div>
                        </div>
                        
                        <div id="address-file-info" style="margin-top: 10px; font-size: 14px; color: var(--text-secondary); display: none;">
                            <i class="fas fa-file"></i> <span id="address-file-name"></span> • <span id="address-file-size"></span>
                        </div>
                    </div>
                    
                    <div class="document-requirements">
                        <h4><i class="fas fa-exclamation-circle"></i> Address Proof Requirements</h4>
                        <ul class="requirements-list">
                            <li>Must show your <strong>full name</strong> and <strong>current residential address</strong></li>
                            <li>Issued within the last <strong>3 months</strong> (bank statements) or <strong>6 months</strong> (utility bills)</li>
                            <li>Accepted documents: Bank statement, utility bill (electricity, water, gas, internet), government tax letter</li>
                            <li>Document must be an official statement from the issuing organization</li>
                            <li><strong>Mobile phone bills are not accepted</strong> as proof of address</li>
                            <li>File formats: PDF, JPG, PNG (Max 10MB)</li>
                            <li><strong>Screenshots are rejected - must be official PDF or scanned document</strong></li>
                        </ul>
                    </div>
                    
                    <div class="form-group full-width">
                        <label>Additional Verification (If Required)</label>
                        <input type="file" id="additional-document-input" accept=".jpg,.jpeg,.png" style="display: none;" onchange="handleFileUpload('additional', this.files[0])">
                        
                        <div class="file-upload-area" id="additional-upload-area" onclick="document.getElementById('additional-document-input').click()">
                            <i class="fas fa-camera" id="additional-icon"></i>
                            <div style="font-weight: 600; margin-bottom: 8px;" id="additional-title">Selfie with ID Document (If Requested)</div>
                            <div style="color: var(--text-secondary); font-size: 14px; margin-bottom: 15px;" id="additional-description">
                                Hold your ID next to your face. Face must be clearly visible.
                            </div>
                            <div style="padding: 10px 20px; background-color: rgba(0,0,0,0.3); border-radius: 8px; display: inline-block;">
                                <i class="fas fa-cloud-upload-alt"></i> Click to Upload
                            </div>
                            <div class="upload-status" id="additional-upload-status">Uploaded</div>
                        </div>
                        
                        <div class="upload-progress" id="additional-progress" style="margin-top: 10px; display: none;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                <span>Uploading...</span>
                                <span id="additional-progress-percent">0%</span>
                            </div>
                            <div style="height: 6px; background-color: var(--border-color); border-radius: 3px; overflow: hidden;">
                                <div id="additional-progress-bar" style="height: 100%; width: 0%; background-color: var(--primary-blue); transition: width 0.3s;"></div>
                            </div>
                        </div>
                        
                        <div id="additional-file-info" style="margin-top: 10px; font-size: 14px; color: var(--text-secondary); display: none;">
                            <i class="fas fa-file"></i> <span id="additional-file-name"></span> • <span id="additional-file-size"></span>
                        </div>
                        
                        <div class="input-hint">May be required for enhanced verification. You'll be notified if needed.</div>
                    </div>
                    
                    <div style="background-color: rgba(59, 130, 246, 0.1); padding: 20px; border-radius: 10px; margin-top: 20px;">
                        <h4 style="color: var(--primary-blue); margin-bottom: 10px;"><i class="fas fa-shield-alt"></i> Security Notice</h4>
                        <p style="color: var(--text-secondary); line-height: 1.6; font-size: 14px;">
                            All uploaded documents are encrypted using 256-bit SSL encryption. Documents are temporarily stored for verification 
                            purposes only and will be permanently deleted after 30 days. For this demo, files are processed locally in your browser 
                            and not sent to any server.
                        </p>
                    </div>
                </div>
                
                <div class="form-navigation">
                    <button class="btn btn-secondary" onclick="previousStep(5)">
                        <i class="fas fa-arrow-left"></i> Back to Citizenship Status
                    </button>
                    <button class="btn btn-primary" onclick="nextStep(7)" id="step6-continue" disabled>
                        Continue to Tax Forms <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <!-- Step 7: Tax Forms -->
            <div class="form-container" id="step-7">
                <div class="form-header">
                    <h3><i class="fas fa-file-invoice-dollar"></i> Tax Information Form</h3>
                    <div class="step-indicator" id="tax-form-type">IRS Requirement • Non-US Taxpayers</div>
                </div>
                
                <div class="form-grid">
                    <div class="form-group">
                        <label>Full Legal Name <span class="required">*</span></label>
                        <input type="text" id="tax-name" placeholder="Exactly as on tax documents">
                    </div>
                    
                    <div class="form-group">
                        <label>Country of Tax Residence <span class="required">*</span></label>
                        <select id="tax-country">
                            <option value="">Select Country</option>
                            <option value="us">United States</option>
                            <option value="uk">United Kingdom</option>
                            <option value="canada">Canada</option>
                            <option value="australia">Australia</option>
                            <option value="germany">Germany</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Tax Identification Number <span class="required">*</span></label>
                        <input type="text" id="tax-id" placeholder="SSN (US) or Foreign Tax ID">
                        <div class="input-hint" id="tax-id-hint">e.g., Social Security Number (US) or equivalent</div>
                    </div>
                    
                    <div class="form-group">
                        <label>Date of Birth (for tax purposes) <span class="required">*</span></label>
                        <input type="date" id="tax-dob">
                    </div>
                    
                    <div class="form-group full-width">
                        <label>Permanent Residential Address <span class="required">*</span></label>
                        <input type="text" id="tax-address" placeholder="Must match your registered address">
                    </div>
                    
                    <div class="form-group">
                        <label>City of Residence</label>
                        <input type="text" id="tax-city">
                    </div>
                    
                    <div class="form-group">
                        <label>Country</label>
                        <input type="text" id="tax-country-name" value="United States" readonly>
                    </div>
                    
                    <div class="form-group full-width">
                        <div style="background-color: rgba(245, 158, 11, 0.1); padding: 20px; border-radius: 10px; border-left: 4px solid var(--warning-yellow);">
                            <h4 style="color: var(--warning-yellow); margin-bottom: 10px;"><i class="fas fa-exclamation-triangle"></i> <span id="tax-form-title">Form W-8BEN Purpose</span></h4>
                            <p style="color: var(--text-secondary); line-height: 1.6;" id="tax-form-description">
                                This form certifies that you are not a U.S. taxpayer. Without this form, the IRS requires brokers to withhold 30% of dividends and sales proceeds from U.S. stocks. By completing this form, you claim treaty benefits (if applicable) and certify your foreign status.
                            </p>
                        </div>
                    </div>
                    
                    <div class="form-group full-width">
                        <label style="display: flex; align-items: flex-start; gap: 10px;">
                            <input type="checkbox" id="tax-certification" style="margin-top: 5px;">
                            <div>
                                <span style="color: var(--danger-red);">*</span> I certify under penalty of perjury that:
                                <div style="margin-top: 10px; color: var(--text-secondary); font-size: 14px; line-height: 1.6;" id="tax-certification-text">
                                    1. I am not a U.S. citizen or resident alien for tax purposes<br>
                                    2. The information provided is true, correct, and complete<br>
                                    3. I am the beneficial owner of the income received from my account<br>
                                    4. I meet the treaty requirements if claiming treaty benefits
                                </div>
                            </div>
                        </label>
                    </div>
                </div>
                
                <div class="form-navigation">
                    <button class="btn btn-secondary" onclick="previousStep(6)">
                        <i class="fas fa-arrow-left"></i> Back to Document Upload
                    </button>
                    <button class="btn btn-primary" onclick="nextStep(8)">
                        Continue to Stock Selection <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <!-- Step 8: Stock Selection -->
            <div class="form-container" id="step-8">
                <div class="form-header">
                    <h3><i class="fas fa-shopping-cart"></i> Select Stocks to Purchase</h3>
                    <div class="step-indicator">Market Order • Fractional Shares Available</div>
                </div>
                
                <div class="stock-filter">
                    <input type="text" id="stock-search" placeholder="Search stocks by name or symbol (e.g., AAPL, Tesla)" onkeyup="filterStocks()">
                    <select id="sector-filter" onchange="filterStocks()">
                        <option value="">All Sectors</option>
                        <option value="technology">Technology</option>
                        <option value="finance">Financial</option>
                        <option value="healthcare">Healthcare</option>
                        <option value="consumer">Consumer</option>
                        <option value="energy">Energy</option>
                        <option value="industrial">Industrial</option>
                    </select>
                </div>
                
                <div class="stock-selection-container">
                    <div class="stock-grid" id="stock-grid">
                        <!-- Stocks will be populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Order Summary -->
                <div class="order-summary" id="order-summary" style="display: none;">
                    <div class="summary-header">
                        <h4>Order Summary</h4>
                        <button class="btn btn-secondary" onclick="clearSelection()" style="padding: 8px 16px; font-size: 14px;">
                            <i class="fas fa-trash"></i> Clear All
                        </button>
                    </div>
                    
                    <div class="summary-items" id="summary-items">
                        <!-- Selected stocks will appear here -->
                    </div>
                    
                    <div class="summary-total">
                        <span>Estimated Total Cost:</span>
                        <span id="total-cost">$0.00</span>
                    </div>
                    
                    <div style="font-size: 13px; color: var(--text-secondary); margin-top: 15px; line-height: 1.6;">
                        <p><i class="fas fa-info-circle"></i> Market orders execute at the current market price during trading hours (9:30 AM - 4:00 PM EST). Orders placed outside market hours will execute at the next market open.</p>
                        <p><i class="fas fa-dollar-sign"></i> Commission: $0.00 per trade (Demo Platform Only)</p>
                    </div>
                </div>
                
                <div class="form-navigation">
                    <button class="btn btn-secondary" onclick="previousStep(7)">
                        <i class="fas fa-arrow-left"></i> Back to Tax Forms
                    </button>
                    <button class="btn btn-primary" onclick="nextStep(9)" id="review-button" disabled>
                        Review & Submit Application <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <!-- Step 9: Review & Submit -->
            <div class="form-container" id="step-9">
                <div class="form-header">
                    <h3><i class="fas fa-clipboard-check"></i> Review & Submit Application</h3>
                    <div class="step-indicator">Final Step • Application Submission</div>
                </div>
                
                <div style="background-color: rgba(0, 0, 0, 0.2); border-radius: 12px; padding: 25px; margin-bottom: 30px;">
                    <h4 style="margin-bottom: 20px; color: var(--warning-yellow);"><i class="fas fa-exclamation-triangle"></i> Important Application Review</h4>
                    
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 25px;">
                        <div>
                            <h5 style="color: var(--text-secondary); margin-bottom: 10px;">Personal Information</h5>
                            <div id="review-personal" style="line-height: 1.8;"></div>
                        </div>
                        
                        <div>
                            <h5 style="color: var(--text-secondary); margin-bottom: 10px;">Financial Information</h5>
                            <div id="review-financial" style="line-height: 1.8;"></div>
                        </div>
                        
                        <div>
                            <h5 style="color: var(--text-secondary); margin-bottom: 10px;">Selected Stocks</h5>
                            <div id="review-stocks" style="line-height: 1.8;"></div>
                        </div>
                        
                        <div>
                            <h5 style="color: var(--text-secondary); margin-bottom: 10px;">Documents Uploaded</h5>
                            <div id="review-documents" style="line-height: 1.8;">
                                <div><i class="fas fa-check-circle" style="color: var(--success-green);"></i> ID Document: Uploaded</div>
                                <div><i class="fas fa-check-circle" style="color: var(--success-green);"></i> Address Proof: Uploaded</div>
                                <div><i class="fas fa-check-circle" style="color: var(--success-green);"></i> Tax Form: Completed</div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="background-color: rgba(59, 130, 246, 0.1); padding: 20px; border-radius: 10px; border-left: 4px solid var(--primary-blue);">
                        <h5 style="color: var(--primary-blue); margin-bottom: 10px;"><i class="fas fa-file-contract"></i> Account Agreements</h5>
                        <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: 15px;">
                            By submitting this application, you agree to the TradeSphere Pro Customer Agreement, Margin Agreement (if applicable), and Option Agreement (if applicable). You acknowledge that trading securities involves risk, including possible loss of principal.
                        </p>
                        <label style="display: flex; align-items: flex-start; gap: 10px;">
                            <input type="checkbox" id="agree-terms" style="margin-top: 5px;">
                            <span>I have read and agree to all account agreements and disclosures</span>
                        </label>
                    </div>
                </div>
                
                <div class="form-navigation">
                    <button class="btn btn-secondary" onclick="previousStep(8)">
                        <i class="fas fa-arrow-left"></i> Back to Stock Selection
                    </button>
                    <button class="btn btn-success" onclick="submitApplication()" id="submit-button" disabled>
                        <i class="fas fa-paper-plane"></i> Submit Application
                    </button>
                </div>
            </div>

            <!-- Step 10: Application ID Display -->
            <div class="form-container" id="step-10">
                <div class="form-header">
                    <h3><i class="fas fa-check-circle"></i> Application Submitted Successfully</h3>
                    <div class="step-indicator">Application ID Generated</div>
                </div>
                
                <div class="application-id-container">
                    <h3 style="margin-bottom: 10px; color: white;">Your Application ID</h3>
                    <p style="color: rgba(255, 255, 255, 0.8); margin-bottom: 20px;">
                        Copy this ID and contact us to complete your application and pay for purchased stocks
                    </p>
                    
                    <div class="application-id" id="application-id-display" onclick="copyApplicationId()" title="Click to copy">
                        Loading...
                    </div>
                    
                    <p style="color: rgba(255, 255, 255, 0.8); margin: 20px 0;">
                        <i class="fas fa-clipboard"></i> Click on the ID above to copy it to clipboard
                    </p>
                    
                    <div class="contact-actions">
                        <a href="mailto:arthurallao065@gmail.com?subject=TradeSphere Application ID: " class="contact-btn contact-email" id="email-link">
                            <i class="fas fa-envelope"></i> Contact via Email
                        </a>
                        <a href="https://t.me/arthur_flashcoin" target="_blank" class="contact-btn contact-telegram">
                            <i class="fab fa-telegram"></i> Contact via Telegram
                        </a>
                    </div>
                    
                    <div class="important-notice" style="margin-top: 30px; background-color: rgba(239, 68, 68, 0.1); border-left-color: var(--danger-red);">
                        <h4><i class="fas fa-exclamation-circle"></i> Important Final Step Required</h4>
                        <p style="color: var(--text-secondary); line-height: 1.6;">
                            <strong>Your application is NOT complete until you contact us.</strong> No further steps will be taken with your application until you email or message us on Telegram with your Application ID. Please start your message with: <strong>"Application ID: [Your ID]"</strong>
                        </p>
                        <p style="color: var(--text-secondary); line-height: 1.6; margin-top: 10px;">
                            After contacting us, we will guide you through the final verification and payment process for your selected stocks. This is a required security step.
                        </p>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 30px;">
                    <button class="btn btn-secondary" onclick="goToStep(1)">
                        <i class="fas fa-redo"></i> Start New Application
                    </button>
                </div>
            </div>

        </div>

        <!-- Right Sidebar - Market Data -->
        <div class="right-sidebar">
            <div class="market-widget">
                <h3><i class="fas fa-chart-bar"></i> Popular US Stocks</h3>
                
                <div class="stock-ticker">
                    <div class="stock-info">
                        <div class="stock-logo" style="background-color: #000; color: white;">A</div>
                        <div>
                            <div class="stock-symbol">AAPL</div>
                            <div class="stock-name">Apple Inc.</div>
                        </div>
                    </div>
                    <div>
                        <div class="stock-price">$172.35</div>
                        <div class="stock-change positive">+1.24%</div>
                    </div>
                </div>
                
                <div class="stock-ticker">
                    <div class="stock-info">
                        <div class="stock-logo" style="background-color: #E31937; color: white;">T</div>
                        <div>
                            <div class="stock-symbol">TSLA</div>
                            <div class="stock-name">Tesla Inc.</div>
                        </div>
                    </div>
                    <div>
                        <div class="stock-price">$175.79</div>
                        <div class="stock-change negative">-0.85%</div>
                    </div>
                </div>
                
                <div class="stock-ticker">
                    <div class="stock-info">
                        <div class="stock-logo" style="background-color: #737373; color: white;">M</div>
                        <div>
                            <div class="stock-symbol">MSFT</div>
                            <div class="stock-name">Microsoft</div>
                        </div>
                    </div>
                    <div>
                        <div class="stock-price">$407.81</div>
                        <div class="stock-change positive">+0.62%</div>
                    </div>
                </div>
                
                <div class="stock-ticker">
                    <div class="stock-info">
                        <div class="stock-logo" style="background-color: #0F9D58; color: white;">G</div>
                        <div>
                            <div class="stock-symbol">GOOGL</div>
                            <div class="stock-name">Google (Alphabet)</div>
                        </div>
                    </div>
                    <div>
                        <div class="stock-price">$151.21</div>
                        <div class="stock-change positive">+0.93%</div>
                    </div>
                </div>
                
                <div class="stock-ticker">
                    <div class="stock-info">
                        <div class="stock-logo" style="background-color: #0066CC; color: white;">A</div>
                        <div>
                            <div class="stock-symbol">AMZN</div>
                            <div class="stock-name">Amazon.com</div>
                        </div>
                    </div>
                    <div>
                        <div class="stock-price">$178.15</div>
                        <div class="stock-change negative">-0.42%</div>
                    </div>
                </div>
            </div>
            
            <div class="market-widget">
                <h3><i class="fas fa-bell"></i> Application Status</h3>
                <div style="padding: 15px; background-color: rgba(0,0,0,0.2); border-radius: 10px; margin-top: 15px;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <span>Identity Verification:</span>
                        <span style="color: var(--danger-red); font-weight: 600;">Pending Contact</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <span>Tax Forms:</span>
                        <span style="color: var(--warning-yellow); font-weight: 600;">Submitted</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <span>Document Upload:</span>
                        <span style="color: var(--success-green); font-weight: 600;">Complete</span>
                    </div>
                    <div style="display: flex; justify-content: space-between;">
                        <span>Final Approval:</span>
                        <span style="color: var(--danger-red); font-weight: 600;">Awaiting Contact</span>
                    </div>
                </div>
            </div>
            
            <div class="market-widget">
                <h3><i class="fas fa-shield-alt"></i> Next Steps After Application</h3>
                <div style="font-size: 13px; color: var(--text-secondary); margin-top: 15px; line-height: 1.7;">
                    <p><i class="fas fa-1" style="color: var(--primary-blue);"></i> Submit application with all documents</p>
                    <p><i class="fas fa-2" style="color: var(--primary-blue);"></i> Copy your Application ID</p>
                    <p><i class="fas fa-3" style="color: var(--primary-blue);"></i> Contact us via Email or Telegram</p>
                    <p><i class="fas fa-4" style="color: var(--primary-blue);"></i> Complete final verification</p>
                    <p><i class="fas fa-5" style="color: var(--primary-blue);"></i> Fund your account & execute trades</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Copy Notification -->
    <div class="copy-notification" id="copy-notification">
        <i class="fas fa-check-circle"></i> Application ID copied to clipboard!
    </div>

    <!-- Contact Footer -->
    <div class="contact-footer">
        <div class="contact-info">
            <div class="contact-item">
                <i class="fas fa-envelope"></i>
                <a href="mailto:arthurallao065@gmail.com">arthurallao065@gmail.com</a>
            </div>
            <div class="contact-item">
                <i class="fab fa-telegram"></i>
                <a href="https://t.me/arthur_flashcoin" target="_blank">@arthur_flashcoin</a>
            </div>
            <div class="contact-item">
                <i class="fas fa-phone"></i>
                <span>Demo Support: 1-800-TRADE-PRO</span>
            </div>
        </div>
        
        <div class="regulatory-logos">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/28/Sec-seal.svg/120px-Sec-seal.svg.png" class="reg-logo" alt="SEC">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5b/Finra_logo.svg/200px-Finra_logo.svg.png" class="reg-logo" alt="FINRA">
            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/8d/SIPC_logo.svg/150px-SIPC_logo.svg.png" class="reg-logo" alt="SIPC">
        </div>
    </div>

    <script>
        // Application state
        let currentStep = 1;
        const totalSteps = 10;
        let selectedStocks = {};
        let applicationId = '';
        let usCitizenStatus = '';
        
        // Stock data with realistic details
        const stocks = [
            { symbol: 'AAPL', name: 'Apple Inc.', price: 172.35, change: 1.24, sector: 'technology', logo: 'A', color: '#000', marketCap: '2.7T', peRatio: 28.5, dividend: 0.96 },
            { symbol: 'TSLA', name: 'Tesla Inc.', price: 175.79, change: -0.85, sector: 'consumer', logo: 'T', color: '#E31937', marketCap: '560B', peRatio: 42.3, dividend: 0.00 },
            { symbol: 'MSFT', name: 'Microsoft', price: 407.81, change: 0.62, sector: 'technology', logo: 'M', color: '#737373', marketCap: '3.0T', peRatio: 35.2, dividend: 3.00 },
            { symbol: 'GOOGL', name: 'Alphabet (Google)', price: 151.21, change: 0.93, sector: 'technology', logo: 'G', color: '#0F9D58', marketCap: '1.9T', peRatio: 26.8, dividend: 0.00 },
            { symbol: 'AMZN', name: 'Amazon.com', price: 178.15, change: -0.42, sector: 'consumer', logo: 'A', color: '#0066CC', marketCap: '1.8T', peRatio: 58.9, dividend: 0.00 },
            { symbol: 'NVDA', name: 'NVIDIA Corp.', price: 903.56, change: 2.34, sector: 'technology', logo: 'N', color: '#76B900', marketCap: '2.2T', peRatio: 74.5, dividend: 0.16 },
            { symbol: 'META', name: 'Meta Platforms', price: 485.75, change: 1.52, sector: 'technology', logo: 'M', color: '#0866FF', marketCap: '1.2T', peRatio: 32.7, dividend: 0.00 },
            { symbol: 'JPM', name: 'JPMorgan Chase', price: 195.43, change: 0.35, sector: 'finance', logo: 'J', color: '#0072CE', marketCap: '560B', peRatio: 11.2, dividend: 4.20 },
            { symbol: 'V', name: 'Visa Inc.', price: 275.89, change: 0.28, sector: 'finance', logo: 'V', color: '#1A1F71', marketCap: '550B', peRatio: 30.5, dividend: 2.08 },
            { symbol: 'JNJ', name: 'Johnson & Johnson', price: 151.22, change: -0.15, sector: 'healthcare', logo: 'J', color: '#0066B2', marketCap: '380B', peRatio: 15.8, dividend: 4.76 },
            { symbol: 'XOM', name: 'Exxon Mobil', price: 118.34, change: 0.92, sector: 'energy', logo: 'X', color: '#048243', marketCap: '475B', peRatio: 13.4, dividend: 3.80 },
            { symbol: 'BRK.B', name: 'Berkshire Hathaway', price: 410.55, change: 0.41, sector: 'finance', logo: 'B', color: '#8B0000', marketCap: '890B', peRatio: 9.2, dividend: 0.00 },
            { symbol: 'PG', name: 'Procter & Gamble', price: 161.78, change: 0.22, sector: 'consumer', logo: 'P', color: '#003366', marketCap: '380B', peRatio: 26.3, dividend: 3.76 },
            { symbol: 'MA', name: 'Mastercard', price: 456.32, change: 0.67, sector: 'finance', logo: 'M', color: '#FF5F00', marketCap: '430B', peRatio: 38.4, dividend: 2.64 },
            { symbol: 'UNH', name: 'UnitedHealth Group', price: 486.25, change: -0.32, sector: 'healthcare', logo: 'U', color: '#00A1DE', marketCap: '450B', peRatio: 20.1, dividend: 7.52 }
        ];
        
        // DOM Elements
        const progressBar = document.getElementById('progress-bar');
        const stepTitle = document.getElementById('current-step-title');
        
        // Step titles for each step
        const stepTitles = {
            1: "Personal Identity Details",
            2: "Address & Contact Information",
            3: "Employment & Financial Background",
            4: "Investment Experience & Risk Profile",
            5: "U.S. Citizenship Status",
            6: "Document Upload & Verification",
            7: "Tax Information Form",
            8: "Select Stocks to Purchase",
            9: "Review & Submit Application",
            10: "Application Submitted Successfully"
        };
        
        // Navigation functions
        function goToStep(step) {
            // Hide all form containers
            document.querySelectorAll('.form-container').forEach(container => {
                container.style.display = 'none';
            });
            
            // Show the target form container
            document.getElementById(`step-${step}`).style.display = 'block';
            document.getElementById(`step-${step}`).classList.add('active');
            
            // Update navigation items
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            const navItem = document.querySelector(`.nav-item[data-step="${step}"]`);
            if (navItem) {
                navItem.classList.add('active');
            }
            
            // Update progress bar
            const progressPercentage = ((step - 1) / (totalSteps - 1)) * 100;
            progressBar.style.width = `${progressPercentage}%`;
            
            // Update step title
            stepTitle.textContent = stepTitles[step] || '';
            
            // Update current step
            currentStep = step;
            
            // Special handling for step 10
            if (step === 10) {
                generateApplicationId();
                updateReviewData();
            }
            
            // Special handling for step 8 (stock selection)
            if (step === 8) {
                setTimeout(() => {
                    populateStocks();
                    updateOrderSummary();
                }, 100);
            }
            
            // Special handling for step 7 (tax forms) - update based on citizenship
            if (step === 7 && usCitizenStatus) {
                updateTaxFormBasedOnCitizenship();
            }
        }
        
        function nextStep(next) {
            // Validate current step before proceeding
            if (validateStep(currentStep)) {
                goToStep(next);
            }
        }
        
        function previousStep(prev) {
            goToStep(prev);
        }
        
        function validateStep(step) {
            // Simple validation for demo purposes
            if (step === 1) {
                const firstName = document.getElementById('first-name').value;
                const lastName = document.getElementById('last-name').value;
                const dob = document.getElementById('dob').value;
                
                if (!firstName || !lastName || !dob) {
                    alert('Please fill in all required fields: First Name, Last Name, and Date of Birth');
                    return false;
                }
            }
            
            if (step === 2) {
                const streetAddress = document.getElementById('street-address').value;
                const city = document.getElementById('city').value;
                const zipCode = document.getElementById('zip-code').value;
                
                if (!streetAddress || !city || !zipCode) {
                    alert('Please fill in all required fields: Street Address, City, and ZIP/Postal Code');
                    return false;
                }
            }
            
            if (step === 5) {
                const yesRadio = document.getElementById('us-citizen-yes');
                const noRadio = document.getElementById('us-citizen-no');
                
                if (!yesRadio.checked && !noRadio.checked) {
                    alert('Please select whether you are a U.S. citizen or tax resident');
                    return false;
                }
            }
            
            if (step === 6) {
                const idUploaded = document.getElementById('id-upload-area').classList.contains('uploaded');
                const addressUploaded = document.getElementById('address-upload-area').classList.contains('uploaded');
                
                if (!idUploaded || !addressUploaded) {
                    alert('Please upload both required documents: ID Document and Proof of Address');
                    return false;
                }
            }
            
            if (step === 8) {
                if (Object.keys(selectedStocks).length === 0) {
                    alert('Please select at least one stock to purchase');
                    return false;
                }
            }
            
            if (step === 9) {
                const agreeCheckbox = document.getElementById('agree-terms');
                if (!agreeCheckbox.checked) {
                    alert('You must agree to the account agreements to submit your application');
                    return false;
                }
            }
            
            return true;
        }
        
        // US Citizenship Selection
        function handleCitizenshipChange() {
            const hint = document.getElementById('citizenship-hint');
            const taxNotice = document.getElementById('tax-form-notice');
            const continueBtn = document.getElementById('step5-continue');
            
            usCitizenStatus = this.value;
            
            if (this.value === 'yes') {
                document.getElementById('hint-text').innerHTML = 
                    'You will need to complete <strong>Form W-9</strong> for U.S. tax reporting.';
                taxNotice.style.display = 'block';
            } else if (this.value === 'no') {
                document.getElementById('hint-text').innerHTML = 
                    'You will need to complete <strong>Form W-8BEN</strong> for non-U.S. tax status.';
                taxNotice.style.display = 'block';
            }
            
            hint.style.display = 'block';
            continueBtn.disabled = false;
        }
        
        // Update tax form based on citizenship
        function updateTaxFormBasedOnCitizenship() {
            const formType = document.getElementById('tax-form-type');
            const formTitle = document.getElementById('tax-form-title');
            const formDescription = document.getElementById('tax-form-description');
            const taxIdHint = document.getElementById('tax-id-hint');
            const certificationText = document.getElementById('tax-certification-text');
            
            if (usCitizenStatus === 'yes') {
                formType.textContent = 'IRS Requirement • US Taxpayers';
                formTitle.textContent = 'Form W-9 Purpose';
                formDescription.textContent = 'This form provides your correct Social Security Number (or other taxpayer identification number) to the broker for tax reporting purposes. All dividends and sales proceeds will be reported to the IRS.';
                taxIdHint.textContent = 'Enter your Social Security Number (SSN)';
                certificationText.innerHTML = `
                    1. I am a U.S. citizen or other U.S. person for tax purposes<br>
                    2. The Social Security Number shown is correct<br>
                    3. I am not subject to backup withholding<br>
                    4. The information provided is true, correct, and complete
                `;
            } else {
                formType.textContent = 'IRS Requirement • Non-US Taxpayers';
                formTitle.textContent = 'Form W-8BEN Purpose';
                formDescription.textContent = 'This form certifies that you are not a U.S. taxpayer. Without this form, the IRS requires brokers to withhold 30% of dividends and sales proceeds from U.S. stocks. By completing this form, you claim treaty benefits (if applicable) and certify your foreign status.';
                taxIdHint.textContent = 'Enter your Foreign Tax Identification Number';
                certificationText.innerHTML = `
                    1. I am not a U.S. citizen or resident alien for tax purposes<br>
                    2. The information provided is true, correct, and complete<br>
                    3. I am the beneficial owner of the income received from my account<br>
                    4. I meet the treaty requirements if claiming treaty benefits
                `;
            }
        }
        
        // File upload handling
        function handleFileUpload(type, file) {
            if (!file) return;
            
            // Check file size (10MB limit)
            if (file.size > 10 * 1024 * 1024) {
                alert('File size exceeds 10MB limit. Please choose a smaller file.');
                return;
            }
            
            // Check file type
            const validTypes = ['image/jpeg', 'image/jpg', 'image/png', 'application/pdf'];
            if (!validTypes.includes(file.type)) {
                alert('Invalid file type. Please upload JPG, PNG, or PDF files only.');
                return;
            }
            
            // Show progress bar
            const progressBar = document.getElementById(`${type}-progress-bar`);
            const progressPercent = document.getElementById(`${type}-progress-percent`);
            const progressContainer = document.getElementById(`${type}-progress`);
            const fileInfo = document.getElementById(`${type}-file-info`);
            const fileName = document.getElementById(`${type}-file-name`);
            const fileSize = document.getElementById(`${type}-file-size`);
            const uploadArea = document.getElementById(`${type}-upload-area`);
            const uploadStatus = document.getElementById(`${type}-upload-status`);
            const icon = document.getElementById(`${type}-icon`);
            const title = document.getElementById(`${type}-title`);
            const description = document.getElementById(`${type}-description`);
            
            // Show progress
            progressContainer.style.display = 'block';
            
            // Simulate upload progress
            let progress = 0;
            const interval = setInterval(() => {
                progress += Math.random() * 20;
                if (progress > 100) progress = 100;
                
                progressBar.style.width = `${progress}%`;
                progressPercent.textContent = `${Math.round(progress)}%`;
                
                if (progress === 100) {
                    clearInterval(interval);
                    
                    // Update UI after "upload"
                    setTimeout(() => {
                        progressContainer.style.display = 'none';
                        uploadArea.classList.add('uploaded');
                        uploadStatus.classList.add('visible');
                        icon.className = 'fas fa-check-circle';
                        icon.style.color = 'var(--success-green)';
                        title.textContent = 'Document Uploaded Successfully';
                        description.textContent = 'Verification pending';
                        
                        // Show file info
                        fileName.textContent = file.name;
                        fileSize.textContent = formatFileSize(file.size);
                        fileInfo.style.display = 'block';
                        
                        // Check if both required documents are uploaded
                        checkDocumentsUploaded();
                    }, 300);
                }
            }, 100);
        }
        
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }
        
        function checkDocumentsUploaded() {
            const idUploaded = document.getElementById('id-upload-area').classList.contains('uploaded');
            const addressUploaded = document.getElementById('address-upload-area').classList.contains('uploaded');
            const continueBtn = document.getElementById('step6-continue');
            
            if (idUploaded && addressUploaded) {
                continueBtn.disabled = false;
            }
        }
        
        // Stock selection functionality
        function populateStocks() {
            const stockGrid = document.getElementById('stock-grid');
            stockGrid.innerHTML = '';
            
            stocks.forEach(stock => {
                const stockCard = document.createElement('div');
                stockCard.className = 'stock-card';
                stockCard.dataset.symbol = stock.symbol;
                stockCard.onclick = () => toggleStockSelection(stock.symbol);
                
                const isSelected = selectedStocks[stock.symbol];
                
                stockCard.innerHTML = `
                    <div class="stock-card-header">
                        <div class="stock-logo-small" style="background-color: ${stock.color}; color: white;">${stock.logo}</div>
                        <div>
                            <div style="font-weight: 700; font-size: 18px;">${stock.symbol}</div>
                            <div style="color: var(--text-secondary); font-size: 14px;">${stock.name}</div>
                        </div>
                        ${isSelected ? '<div style="margin-left: auto; color: var(--primary-blue);"><i class="fas fa-check-circle"></i></div>' : ''}
                    </div>
                    
                    <div class="stock-card-body">
                        <div class="stock-price-large">$${stock.price.toFixed(2)}</div>
                        <div class="stock-change ${stock.change >= 0 ? 'positive' : 'negative'}">
                            ${stock.change >= 0 ? '+' : ''}${stock.change}%
                        </div>
                    </div>
                    
                    <div class="stock-metrics">
                        <div class="metric-item">
                            <span>Market Cap:</span>
                            <span>${stock.marketCap}</span>
                        </div>
                        <div class="metric-item">
                            <span>P/E Ratio:</span>
                            <span>${stock.peRatio}</span>
                        </div>
                        <div class="metric-item">
                            <span>Dividend Yield:</span>
                            <span>${stock.dividend > 0 ? stock.dividend + '%' : 'N/A'}</span>
                        </div>
                        <div class="metric-item">
                            <span>Sector:</span>
                            <span style="text-transform: capitalize;">${stock.sector}</span>
                        </div>
                    </div>
                    
                    ${isSelected ? `
                    <div class="stock-quantity-selector">
                        <div>Quantity:</div>
                        <div class="quantity-controls">
                            <button class="qty-btn" onclick="event.stopPropagation(); updateQuantity('${stock.symbol}', -1)">-</button>
                            <input type="number" class="quantity-input" value="${selectedStocks[stock.symbol].quantity}" min="1" onchange="updateQuantityInput('${stock.symbol}', this.value)" onclick="event.stopPropagation();">
                            <button class="qty-btn" onclick="event.stopPropagation(); updateQuantity('${stock.symbol}', 1)">+</button>
                        </div>
                        <div class="stock-total">Total: $${(selectedStocks[stock.symbol].quantity * stock.price).toFixed(2)}</div>
                    </div>
                    ` : ''}
                `;
                
                if (isSelected) {
                    stockCard.classList.add('selected');
                }
                
                stockGrid.appendChild(stockCard);
            });
        }
        
        function toggleStockSelection(symbol) {
            const stock = stocks.find(s => s.symbol === symbol);
            
            if (selectedStocks[symbol]) {
                delete selectedStocks[symbol];
            } else {
                selectedStocks[symbol] = {
                    symbol: stock.symbol,
                    name: stock.name,
                    price: stock.price,
                    quantity: 1
                };
            }
            
            populateStocks();
            updateOrderSummary();
            
            // Enable/disable the review button based on stock selection
            const reviewButton = document.getElementById('review-button');
            reviewButton.disabled = Object.keys(selectedStocks).length === 0;
        }
        
        function updateQuantity(symbol, change) {
            if (selectedStocks[symbol]) {
                selectedStocks[symbol].quantity += change;
                if (selectedStocks[symbol].quantity < 1) {
                    selectedStocks[symbol].quantity = 1;
                }
                populateStocks();
                updateOrderSummary();
            }
        }
        
        function updateQuantityInput(symbol, value) {
            const quantity = parseInt(value) || 1;
            if (selectedStocks[symbol]) {
                selectedStocks[symbol].quantity = quantity < 1 ? 1 : quantity;
                populateStocks();
                updateOrderSummary();
            }
        }
        
        function updateOrderSummary() {
            const orderSummary = document.getElementById('order-summary');
            const summaryItems = document.getElementById('summary-items');
            const totalCostElement = document.getElementById('total-cost');
            
            if (Object.keys(selectedStocks).length === 0) {
                orderSummary.style.display = 'none';
                return;
            }
            
            orderSummary.style.display = 'block';
            summaryItems.innerHTML = '';
            
            let totalCost = 0;
            
            Object.values(selectedStocks).forEach(stock => {
                const itemCost = stock.quantity * stock.price;
                totalCost += itemCost;
                
                const itemDiv = document.createElement('div');
                itemDiv.className = 'summary-item';
                itemDiv.innerHTML = `
                    <div>
                        <div style="font-weight: 600;">${stock.symbol}</div>
                        <div style="font-size: 13px; color: var(--text-secondary);">${stock.name}</div>
                    </div>
                    <div>
                        <div style="text-align: right;">${stock.quantity} × $${stock.price.toFixed(2)}</div>
                        <div style="font-weight: 600; color: var(--primary-blue);">$${itemCost.toFixed(2)}</div>
                    </div>
                `;
                summaryItems.appendChild(itemDiv);
            });
            
            totalCostElement.textContent = `$${totalCost.toFixed(2)}`;
        }
        
        function filterStocks() {
            const searchTerm = document.getElementById('stock-search').value.toLowerCase();
            const sectorFilter = document.getElementById('sector-filter').value;
            
            const filteredStocks = stocks.filter(stock => {
                const matchesSearch = stock.symbol.toLowerCase().includes(searchTerm) || 
                                      stock.name.toLowerCase().includes(searchTerm);
                const matchesSector = !sectorFilter || stock.sector === sectorFilter;
                return matchesSearch && matchesSector;
            });
            
            const stockGrid = document.getElementById('stock-grid');
            stockGrid.innerHTML = '';
            
            filteredStocks.forEach(stock => {
                const stockCard = document.createElement('div');
                stockCard.className = 'stock-card';
                stockCard.dataset.symbol = stock.symbol;
                stockCard.onclick = () => toggleStockSelection(stock.symbol);
                
                const isSelected = selectedStocks[stock.symbol];
                
                stockCard.innerHTML = `
                    <div class="stock-card-header">
                        <div class="stock-logo-small" style="background-color: ${stock.color}; color: white;">${stock.logo}</div>
                        <div>
                            <div style="font-weight: 700; font-size: 18px;">${stock.symbol}</div>
                            <div style="color: var(--text-secondary); font-size: 14px;">${stock.name}</div>
                        </div>
                        ${isSelected ? '<div style="margin-left: auto; color: var(--primary-blue);"><i class="fas fa-check-circle"></i></div>' : ''}
                    </div>
                    
                    <div class="stock-card-body">
                        <div class="stock-price-large">$${stock.price.toFixed(2)}</div>
                        <div class="stock-change ${stock.change >= 0 ? 'positive' : 'negative'}">
                            ${stock.change >= 0 ? '+' : ''}${stock.change}%
                        </div>
                    </div>
                    
                    <div class="stock-metrics">
                        <div class="metric-item">
                            <span>Market Cap:</span>
                            <span>${stock.marketCap}</span>
                        </div>
                        <div class="metric-item">
                            <span>P/E Ratio:</span>
                            <span>${stock.peRatio}</span>
                        </div>
                        <div class="metric-item">
                            <span>Dividend Yield:</span>
                            <span>${stock.dividend > 0 ? stock.dividend + '%' : 'N/A'}</span>
                        </div>
                        <div class="metric-item">
                            <span>Sector:</span>
                            <span style="text-transform: capitalize;">${stock.sector}</span>
                        </div>
                    </div>
                    
                    ${isSelected ? `
                    <div class="stock-quantity-selector">
                        <div>Quantity:</div>
                        <div class="quantity-controls">
                            <button class="qty-btn" onclick="event.stopPropagation(); updateQuantity('${stock.symbol}', -1)">-</button>
                            <input type="number" class="quantity-input" value="${selectedStocks[stock.symbol].quantity}" min="1" onchange="updateQuantityInput('${stock.symbol}', this.value)" onclick="event.stopPropagation();">
                            <button class="qty-btn" onclick="event.stopPropagation(); updateQuantity('${stock.symbol}', 1)">+</button>
                        </div>
                        <div class="stock-total">Total: $${(selectedStocks[stock.symbol].quantity * stock.price).toFixed(2)}</div>
                    </div>
                    ` : ''}
                `;
                
                if (isSelected) {
                    stockCard.classList.add('selected');
                }
                
                stockGrid.appendChild(stockCard);
            });
        }
        
        function clearSelection() {
            selectedStocks = {};
            populateStocks();
            updateOrderSummary();
            
            const reviewButton = document.getElementById('review-button');
            reviewButton.disabled = true;
        }
        
        // Application submission
        function submitApplication() {
            const submitButton = document.getElementById('submit-button');
            submitButton.disabled = true;
            submitButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Submitting...';
            
            // Simulate API call delay
            setTimeout(() => {
                goToStep(10);
            }, 1500);
        }
        
        function generateApplicationId() {
            // Generate a realistic application ID like "3der4s2"
            const chars = 'abcdefghijklmnopqrstuvwxyz0123456789';
            let id = '';
            for (let i = 0; i < 7; i++) {
                id += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            
            applicationId = id.toUpperCase();
            document.getElementById('application-id-display').textContent = applicationId;
            
            // Update the email link with the application ID
            const emailLink = document.getElementById('email-link');
            emailLink.href = `mailto:arthurallao065@gmail.com?subject=TradeSphere Application ID: ${applicationId}&body=Application ID: ${applicationId}%0D%0A%0D%0APlease process my application and guide me through the payment process for the selected stocks.`;
        }
        
        function copyApplicationId() {
            navigator.clipboard.writeText(applicationId).then(() => {
                const notification = document.getElementById('copy-notification');
                notification.classList.add('show');
                
                setTimeout(() => {
                    notification.classList.remove('show');
                }, 3000);
            });
        }
        
        function updateReviewData() {
            // Personal information
            const firstName = document.getElementById('first-name').value || 'Not provided';
            const lastName = document.getElementById('last-name').value || 'Not provided';
            const email = document.getElementById('email').value || 'Not provided';
            const phone = document.getElementById('phone').value || 'Not provided';
            
            document.getElementById('review-personal').innerHTML = `
                <div>${firstName} ${lastName}</div>
                <div>${email}</div>
                <div>${phone}</div>
            `;
            
            // Financial information
            const employmentStatus = document.getElementById('employment-status').value || 'Not provided';
            const incomeRange = document.getElementById('income-range').value || 'Not provided';
            
            document.getElementById('review-financial').innerHTML = `
                <div>Employment: ${employmentStatus}</div>
                <div>Income: ${incomeRange.replace('-', ' - ')}</div>
                <div>Risk Tolerance: ${document.getElementById('risk-tolerance').value || 'Not provided'}</div>
            `;
            
            // Selected stocks
            let stocksHtml = '';
            let totalCost = 0;
            
            Object.values(selectedStocks).forEach(stock => {
                const itemCost = stock.quantity * stock.price;
                totalCost += itemCost;
                stocksHtml += `<div>${stock.quantity} × ${stock.symbol} - $${itemCost.toFixed(2)}</div>`;
            });
            
            stocksHtml += `<div style="margin-top: 10px; font-weight: 600;">Total: $${totalCost.toFixed(2)}</div>`;
            document.getElementById('review-stocks').innerHTML = stocksHtml;
        }
        
        // Initialize the platform
        document.addEventListener('DOMContentLoaded', function() {
            // Set up citizenship radio button listeners
            document.getElementById('us-citizen-yes').addEventListener('change', handleCitizenshipChange);
            document.getElementById('us-citizen-no').addEventListener('change', handleCitizenshipChange);
            
            // Set up navigation item clicks
            document.querySelectorAll('.nav-item').forEach(item => {
                item.addEventListener('click', function() {
                    const step = parseInt(this.getAttribute('data-step'));
                    if (step <= 9) { // Don't allow clicking step 10 from nav
                        goToStep(step);
                    }
                });
            });
            
            // Terms agreement checkbox
            document.getElementById('agree-terms').addEventListener('change', function() {
                document.getElementById('submit-button').disabled = !this.checked;
            });
            
            // Initialize with step 1
            goToStep(1);
            
            // Simulate live stock price changes
            setInterval(() => {
                // Randomly update some stock prices for realism
                if (Math.random() > 0.7) {
                    const randomStock = stocks[Math.floor(Math.random() * stocks.length)];
                    const change = (Math.random() - 0.5) * 2; // -1 to +1
                    randomStock.change = parseFloat(change.toFixed(2));
                    randomStock.price = parseFloat((randomStock.price * (1 + change/100)).toFixed(2));
                    
                    // Update the UI if we're on the stock selection page
                    if (currentStep === 8) {
                        populateStocks();
                        updateOrderSummary();
                    }
                }
            }, 5000);
            
            // Initialize stock grid
            populateStocks();
        });
    </script>
</body>

</html>
